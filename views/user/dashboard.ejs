<style media="screen">
.mdl-cell > .mdl-button {
	display: block;
	margin: 8px;
}
.text-center {
	text-align: center;
}
.player-connection-card.mdl-card {
	margin: 0 auto;
	width: 250px;
}
.player-connection-card h1 {
	text-align: center;
	margin: 0 auto;
	padding: 8px 0 8px 0;
	font-size: 16px;
}
.mdl-card__supporting-text > p {
	padding: 0;
	margin: 0;
}
</style>

<div class="mdl-grid">
	<div class="mdl-cell mdl-cell--12-col">
		<h5>{%= user.firstName %}'s Dashboard</h5>
	</div>
</div>
<div class="mdl-grid">
	<div class="mdl-cell mdl-cell--12-col mdl-shadow--2dp padding">
		{% if (user.username) { %}
		<p><strong>Username</strong> {%= user.username %}</p>
		{% } %}
		{% if (user.email) { %}
		<p><strong>Email</strong> {%= user.email%}</p>
		{% } %}
		{% if (user.firstName || user.lastName) { %}
		<p><strong>Name</strong> {%= user.firstName + ' ' + user.lastName %}</p>
		{% } %}
	</div>
	<div class="mdl-cell mdl-cell--12-col padding">

	</div>

</div>

<div class="mdl-grid">
	<div class="mdl-cell mdl-cell--12-col">
		<button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" id="test-button">Click me!</button>
		{% if (typeof testString != 'undefined') { %}
		<p>Your test string says: {%= testString %}</p>
		{% } %}
	</div>
</div>

<div class="mdl-grid">
	<div class="mdl-cell mdl-cell--12-col">
		{% if (user.teams) { %}
		<h5>You do not belong to any teams.</h5>
		{% } else { %}
		<h5>You do not belong to any teams.</h5>
		{% } %}
	</div>

	<script id="card-template" type="text/x-custom-template">
	<div class="player-connection-card mdl-card mdl-shadow--2dp" id="connection-card">
		<div class="mdl-card__title mdl-card--expand">
			<div class="mdl-card__title-text">
				<h1 id="playername">Player Name</h1>
			</div>
		</div>
		<div class="mdl-card__media">
			<img src="/images/image-placeholder.png" id="playerimage">
		</div>
		<div class="mdl-card__supporting-text">
			<p id="playerWins">[player name] has 10 wins</p>
			<p id="playerRank">[player name] is ranked 3/10 players</p>
		</div>
		<div class="mdl-card__actions mdl-card--border">
			<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect">
				Create Team
			</a>
		</div>
	</div>
	 </script>

	<script>
	$('document').ready(function() {
		$.get("/player")
		.done(function(data) {
			var connections = data.players;
			var $template = $('#card-template').html();
			console.log($template);
			for (var i = 0; i < connections.length; i++) {
				var $card = $template;
				$card.attr('id', connections[i].uuid);
				$card.find('#playerWins').html('<p>' + connections[i].firstName + ' has 10 wins</p>')
				$card.find('#playerRank').html('<p>' + connections[i].firstName + ' has 10 wins</p>')
				$('connections').append(card);
			}
		})
		.fail(function(err) {
			console.error(err);
		});
	});
	</script>



	<div class="mdl-cell mdl-cell--8-col mdl-shadow--2dp">
		<button type="button" class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" name="findTeams">Find Players +</button>
	</div>
	<div class="mdl-cell mdl-cell--4-col mdl-shadow--2dp" id="connection-cards">
		<h6 class="text-center">Connections</h6>
		<span id="connections"></span>
		<br>
	</div>
</div>

<script src="/js/requests.js"></script>
